<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<h1>FORMULARIO DE REGISTROS </h1>
    
<form action="#" method="post" id="miFormulario">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" required>

    <br>

    <label for="apellido">Apellido:</label>
    <input type="text" id="apellido" name="apellido" required>

    <br>

    <input type="submit" value="Enviar" id="botonEnviar">
</form>

<script type="module">
    // Importar funciones específicas de Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { getDatabase } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCKopn-m4oW6hOFCDVIR3m_TByOL4NT9Ok",
      authDomain: "prueba-90db3.firebaseapp.com",
      databaseURL: "https://prueba-90db3-default-rtdb.firebaseio.com",
      projectId: "prueba-90db3",
      storageBucket: "prueba-90db3.appspot.com",
      messagingSenderId: "120213660091",
      appId: "1:120213660091:web:8877743400094d78fe249e"
    };
  
    // Inicializar Firebase y manejar posibles errores
    try {
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
    } catch (error) {
        console.error("Error al inicializar Firebase:", error);
    }

    window.crearRegistro = function() {
        try {
            // Agregar la lógica específica de crear un registro con Java
            console.log('Se está creando un registro...');
        } catch (error) {
            console.error("Error al crear el registro:", error);
        }
    };

    // Mover el código dentro del bloque script
    document.getElementById('miFormulario').addEventListener('submit', function(event) {
        // Llamar a la función crearRegistro cuando se envíe el formulario
        crearRegistro();

        // Evitar que el formulario se envíe de forma predeterminada
        event.preventDefault();
    });
</script>

</body>
</html>
